
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>MY Google map</title>
</head>
<style>
  .button_heatmap
  {
	  backgroundcolor: black;
	  color: orange;
	  width: 150px;
	  height: 40px;
    padding: 10px 10px 10px 5px;
  }
  .button_linechart
{
  backgroundcolor: black;
  color: red;
  width: 150px;
  height: 40px;
}

  html, body, #map {
    height: 800px;
    width: 100%;
  }
  #HEATMAP_input{
      display: inline;
  }
  #LINECHART_input{
      display: inline;
  }

</style>
<body>
  <h1>My Google Map</h1>
  <div id="map"></div>
  <h2>END</h2>
  <div id="HEATMAP_input">
    <input type="button" class="button_heatmap" value="HEATMAP" style="display: inline">
  </div>
  <div id="LINECHART_input">
    <input type="button" class="button_linechart" value="LINECHART" style="display: inline">
  </div>

  <script>
    function initMap(){
      //Map options
      var options = {
        zoom: 14,
        center:{lat:40.827007,lng:-73.946185}
      };
      var map = new google.maps.Map(document.getElementById('map'),options);

      //Adding M_100 Path;
      var coordinates = [
      {lat:40.869555,lng:-73.915163},{lat:40.865716,lng:-73.917982},{lat:40.861973,lng:-73.920698},{lat:40.859204,lng:-73.923154},{lat:40.861391,lng:-73.924606},{lat:40.862291,lng:-73.925154},{lat:40.864067,lng:-73.926292},
      {lat:40.865296,lng:-73.927055},{lat:40.86442,lng:-73.929171},{lat:40.862815,lng:-73.929867},{lat:40.859663,lng:-73.931141},{lat:40.85735,lng:-73.932273},{lat:40.855257,lng:-73.933302},{lat:40.852846,lng:-73.934306},
      {lat:40.850738,lng:-73.935372},{lat:40.849466,lng:-73.936449},{lat:40.848938,lng:-73.937054},{lat:40.848199,lng:-73.937726},{lat:40.84916,lng:-73.936801},{lat:40.848493,lng:-73.937632},{lat:40.847542,lng:-73.938028},
      {lat:40.844531,lng:-73.938929},{lat:40.841784,lng:-73.939323},{lat:40.840216,lng:-73.939774},{lat:40.838304,lng:-73.939823},{lat:40.837284,lng:-73.940057},{lat:40.835707,lng:-73.93996},{lat:40.835326,lng:-73.940175},
      {lat:40.831984,lng:-73.942736},{lat:40.826633,lng:-73.946711},{lat:40.823781,lng:-73.948814},{lat:40.819685,lng:-73.95174},{lat:40.813852,lng:-73.955919},  {lat:40.81341,lng:-73.956223},{lat:40.812994,lng:-73.956039},
      {lat:40.812785,lng:-73.955949},{lat:40.811409,lng:-73.954215},{lat:40.810513,lng:-73.952208},{lat:40.806444,lng:-73.942504},{lat:40.801825,lng:-73.931564},
      ];
      var path = new google.maps.Polyline({
        path: coordinates,
        geodesic: true,
        strokeColor: '#b3b3ff',
        strokeOpacity: 2.0,
        strokeWeight: 3

      });
      path.setMap(map);
      var lineSymbol = {
          path: google.maps.SymbolPath.CIRCLE,
          scale: 8,
          strokeColor: '#b3b3ff'
        };
      var line = new google.maps.Polyline({
          path: coordinates,
          icons: [{
            icon: lineSymbol,
            offset: '100%'
          }],
          map: map
        });
        function animateCircle(line) {
              var count = 0;
              window.setInterval(function() {
                count = (count + 0.1) % 200;
                var icons = line.get('icons');
                icons[0].offset = (count / 2) + '%';
                line.set('icons', icons);
            }, 20);
          }


        animateCircle(line);
    }

  </script>
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB-SMY0hpmWftNI2_zjWHwGKylRDtj6su8&callback=initMap">
  </script>
</body>
</html>
